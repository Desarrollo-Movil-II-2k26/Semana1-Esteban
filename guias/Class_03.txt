=================================================================================
University.: Universidad Técnica Nacional
Campus.....: Pacífico (JRMP)
Career.....: Ingeniería en Tecnologías de Información
Period.....: 1C-2026
Course.....: ITI-721 - Desarrollo de Aplicaciones para Dispositivos Móviles II
Document...: Class_03.txt
Goals......: - Create and use of Reducers.
			 - Create and use of Stores.
			 - Create and use of Providers.			 
			 - Use functions:
				- connect()
				- useDispatch()
				- useState()				
Professor..: Jorge Ruiz (york)
Student....:
=================================================================================

Step 01 - Open the Android Emulator

	Only the AVD is required
	
	
Step 02 - Close the Antivirus (real time scanning) (only if is required)

	
Setp 03 - Creates the new application

	- Open the PowerShell (administrator is not required)
	
	- Changes dir to work directory
				
		npx create-expo-app@latest expo_class_03 --template blank
	

Step 04 - Open the new directory with Visual Code application


Step 05 - Install required libraries

	- Open the terminal windows
	
		npm install redux react-redux


Step 06 - Create a work directories

	Root project
		- src
			- components
				- actions
				- reducers
			- imgs
				- logos 
					(Copy image logo_universidad.png)
			- styles	
			- views


Step 07 - Create Style Sheet

	- Create styles/style_01.js
	
	- Copy the next code:
	
		import {StyleSheet} from 'react-native';

		// crea paleta de colores
		const principal = '#1B2E66';
		const naranja = '#FF9900';
		const blanco = '#FFFFFF';
		const gris_1 = '#B2BDD5';

		// crea la hoja de estilos
		export const style_01 = StyleSheet.create({
			body: {
				margin: 7,
				padding: 5,
			},
			text: {
				fontSize: 16,
				fontWeight: 'bold',
				color: principal,
			},
			taskText: {
				alignItems: 'center',
				backgroundColor: blanco,
				borderRadius: 10,
				margin: 5,
				padding: 10,
			},
			btn_AddTask: {
				borderColor: principal,
				borderWidth: 1,
				borderRadius: 20,
				height: 40,
				width: 40,
				justifyContent: 'center',
				alignItems: 'center',
			},
			btn_label: {
				alignSelf: 'center',
				fontSize: 25,
				fontWeight: 'bold',
			},
			entries: {
				borderColor: principal,
				borderWidth: 1,
				borderRadius: 10,
				marginTop: 5,
				width: '85%',
				height: 40,
			},
			row: {
				alignItems: 'center',
				flexDirection: 'row',
				justifyContent: 'space-between',
				marginLeft: 'auto',
				marginRight: 'auto',
				position: 'relative',
				width: '96%',
			},
			titleBar: {
				backgroundColor: principal,
				padding: 5,
				flexDirection: 'row',
				flexWrap: 'wrap',
			},
			title: {
				marginLeft: 25,
				marginTop: 15,
				fontSize: 28,
				fontWeight: 'bold',
				color: naranja,
			},
		});
		
	
	- Save changes
		
	
Step 08 - Create Task Action Types

	- Create src/components/actions/TaskActionTypes.js
	
	- Write the next code:
	
		export const ADD_TASK = 'Add Task';
		export const DELETE_TASK = 'Delete Task';
	
	
	- Save changes
		

Step 09 - Create Task Action

	- Create src/components/actions/TaskAction.js
	
	- Write the next code:
	
		import { ADD_TASK, DELETE_TASK} from './TaskActionTypes';

		export const addTaskAction = taskDescription => ({
			type: ADD_TASK,
			payload: taskDescription,
		});

		export const deleteTaskAction = taskDescription => ({
			type: DELETE_TASK,
			payload: taskDescription,
		});
		
	
	- Save changes
	

Step 10 - Create Task Reducer

	- Create src/components/reducers/TaskReducer.js
	
	- Write the next code:
	
		import { ADD_TASK, DELETE_TASK} from '../actions/TaskActionTypes';

		const INITIAL_STATE = {
			todoTasks: [],
		};

		const TaskReducer = (state = INITIAL_STATE, action) => {
			const {todoTasks} = state;
			let taskDescription, newState;

			switch (action.type) {
				case ADD_TASK:
					taskDescription = action.payload;
					newState = {
						todoTasks: [...todoTasks, taskDescription],
					};
					return newState;

				case DELETE_TASK:
					taskDescription = action.payload;
					todoTasks.splice(todoTasks.indexOf(taskDescription), 1);
					newState = {
						todoTasks: [...todoTasks],
					};
					return newState;

				default:
					return state;
			}
		};

		export default TaskReducer;
		
	
	- Save changes


Step 11 - Create Store

	- Create src/components/Store.js
	
	- Write the next code:
	
		import {combineReducers, legacy_createStore} from 'redux';
		import TaskReducer from './reducers/TaskReducer';

		const ConfigureStore = () => {
			const reducers = combineReducers({Tasks: TaskReducer});
			const store = legacy_createStore(reducers);
			return store;
		};

		export default ConfigureStore;
		
	
	- Save changes
		

Step 12 - Create Task List view

	- Create src/views/TaskList.js
	
	- Write the next code:
	
		import React from 'react';
		import { Image, View, Text, TouchableOpacity} from 'react-native';
		import {connect, useDispatch} from 'react-redux';
		import {style_01} from '../styles/style_01';
		import { deleteTaskAction} from '../components/actions/TaskAction';

		const TaskList = ({Tasks}) => {
			const dispatch = useDispatch();
			const onPressTask = taskDescription => {
				dispatch(deleteTaskAction(taskDescription));
			};

			return (
				<View>
					<View style={style_01.body}>
						{Tasks.todoTasks.map((task, index) => (
							<TouchableOpacity
								key={index}
								style={style_01.taskText}
								onPress={() => onPressTask(task)}>
								<Text style={style_01.text}>{task}</Text>
							</TouchableOpacity>
						))}
					</View>
				</View>
			);
		};

		const mapStateToProps = ({Tasks}) => {
			return {Tasks};
		};

		export default connect(mapStateToProps)(TaskList);
		
	
	- Save changes


Step 12 - Create Task Register view

	- Create src/views/TaskRegister.js
	
	- Write the next code:
	
		import React from 'react';
		import {View, Text, TextInput, TouchableOpacity} from 'react-native';
		import {connect, useDispatch} from 'react-redux';
		import {style_01} from '../styles/style_01';

		import {useState} from 'react';
		import {addTaskAction} from '../components/actions/TaskAction';

		const TaskRegister = () => {
			const [txtTask, setTxtTask] = useState('Mi primer tarea');

			const dispatch = useDispatch();
			const onPressTask = taskDescription => {
				dispatch(addTaskAction(txtTask));
				setTxtTask('');
			};

			return (
				<View>
					<View style={style_01.titleBar}>
						<Image source={require('../imgs/logos/logo_universidad.png')} />
						<Text style={style_01.title}>Tasks List</Text>
					</View>
					<View style={style_01.row}>
						<TextInput
							style={style_01.entries}
							value={txtTask}
							placeholder={'Task todo...'}
							onChangeText={newValue => {
								setTxtTask(newValue);
							}}
						/>
						<TouchableOpacity
							style={style_01.btn_AddTask}
							onPress={() => onPressTask()}>
							<Text style={style_01.btn_label}> + </Text>
						</TouchableOpacity>
					</View>
				</View>
			);
		};

		const mapStateToProps = state => {
			return {
				Tasks: state.Tasks,
			};
		};

		export default connect(mapStateToProps)(TaskRegister);

	
	- Save changes


Step 13 - Modify App.js

	- Delete all code into this file
	
	- Write the next code:
	
		import React from 'react';
		import {View} from 'react-native';
		import {Provider} from 'react-redux';

		import TaskList from './src/views/TaskList';
		import TaskRegister from './src/views/TaskRegister';
		import ConfigureStore from './src/components/Store';

		const App = () => {
			const store = ConfigureStore();
			return (
				<Provider store={store}>
					<View>
						<TaskRegister />
						<TaskList />
					</View>
				</Provider>
			);
		};

		export default App;
		
	
	- Save changes


Step 14 - Execute the application

	- Open terminal window in Visual Code
	
		npx expo start


Step 15 - Be happy
